DELIMITER //
CREATE FUNCTION fn_calcular_edad(fecha_nac DATE)
RETURNS INT
DETERMINISTIC
BEGIN
  RETURN TIMESTAMPDIFF(YEAR, fecha_nac, CURDATE());
END;
//
DELIMITER ;